// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@v0.2.2-esm/index.mjs";import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-pinf@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-buffer@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-error@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-type-of@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-regexp-from-string@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-index-of@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-property-names@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-property-descriptor@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-get-prototype-of@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-property@v0.2.4-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/buffer-from-buffer@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-int8@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/array-uint8@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/array-uint8c@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/array-int16@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/array-uint16@v0.2.2-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/array-int32@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/array-uint32@v0.2.2-esm/index.mjs";import O from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@v0.2.2-esm/index.mjs";import z from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@v0.2.2-esm/index.mjs";function E(e){return new v(e)}function S(e){return new h(e)}function k(e){return new b(e)}function A(e){return new g(e)}function F(e){return new y(e)}function D(e){return new x(e)}function J(e){return new w(e)}function M(e){return new O(e)}function T(e){return new z(e)}var X={int8array:E,uint8array:S,uint8clampedarray:k,int16array:A,uint16array:F,int32array:D,uint32array:J,float32array:M,float64array:T};function q(t,r,s,v,h){var b,g,y,x,w,O,z,E,S,k;if(h-=1,"object"!=typeof t||null===t)return t;if(i(t))return c(t);if(o(t))return function(t){var r,s,i,o,d,m,l=[],j=[];for(d=new t.constructor(t.message),l.push(t),j.push(d),t.stack&&(d.stack=t.stack),t.code&&(d.code=t.code),t.errno&&(d.errno=t.errno),t.syscall&&(d.syscall=t.syscall),r=a(t),m=0;m<r.length;m++)o=r[m],s=f(t,o),n(s,"value")&&(i=e(t[o])?[]:{},s.value=q(t[o],i,l,j,-1)),u(d,o,s);return d}(t);if("date"===(y=d(t)))return new Date(+t);if("regexp"===y)return m(t.toString());if("set"===y)return new Set(t);if("map"===y)return new Map(t);if("string"===y||"boolean"===y||"number"===y)return t.valueOf();if(w=X[y])return w(t);if("array"!==y&&"object"!==y)return"function"==typeof Object.freeze?function(t){var r,s,i,o,d,m,l,a;for(r=[],o=[],l=Object.create(p(t)),r.push(t),o.push(l),s=j(t),a=0;a<s.length;a++)i=s[a],d=f(t,i),n(d,"value")&&(m=e(t[i])?[]:{},d.value=q(t[i],m,r,o,-1)),u(l,i,d);return Object.isExtensible(t)||Object.preventExtensions(l),Object.isSealed(t)&&Object.seal(l),Object.isFrozen(t)&&Object.freeze(l),l}(t):{};if(g=a(t),h>0)for(b=y,k=0;k<g.length;k++)E=t[O=g[k]],y=d(E),"object"!=typeof E||null===E||"array"!==y&&"object"!==y||i(E)?"object"===b?(x=f(t,O),n(x,"value")&&(x.value=q(E)),u(r,O,x)):r[O]=q(E):-1===(S=l(s,E))?(z=e(E)?new Array(E.length):{},s.push(E),v.push(z),"array"===b?r[O]=q(E,z,s,v,h):(x=f(t,O),n(x,"value")&&(x.value=q(E,z,s,v,h)),u(r,O,x))):r[O]=v[S];else if("array"===y)for(k=0;k<g.length;k++)r[O=g[k]]=t[O];else for(k=0;k<g.length;k++)O=g[k],x=f(t,O),u(r,O,x);return Object.isExtensible(t)||Object.preventExtensions(r),Object.isSealed(t)&&Object.seal(r),Object.isFrozen(t)&&Object.freeze(r),r}function B(n,i){var o;if(arguments.length>1){if(!t(i))throw new TypeError(r("1SJ3X",i));if(0===i)return n}else i=s;return q(n,o=e(n)?new Array(n.length):{},[n],[o],i)}export{B as default};
//# sourceMappingURL=index.mjs.map
